var cov_184deyxhm=function(){var path='/Users/ralfcheung/routes/index.js',hash='680408f147a6ffe7c90b1c1f7c5230e7e8bbb613',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/ralfcheung/routes/index.js',statementMap:{'0':{start:{line:1,column:0},end:{line:1,column:27}},'1':{start:{line:2,column:13},end:{line:2,column:28}},'2':{start:{line:3,column:16},end:{line:3,column:34}},'3':{start:{line:4,column:12},end:{line:4,column:21}},'4':{start:{line:5,column:13},end:{line:5,column:37}},'5':{start:{line:6,column:19},end:{line:6,column:41}},'6':{start:{line:7,column:18},end:{line:7,column:38}},'7':{start:{line:8,column:13},end:{line:8,column:28}},'8':{start:{line:9,column:12},end:{line:9,column:35}},'9':{start:{line:10,column:18},end:{line:11,column:84}},'10':{start:{line:12,column:14},end:{line:12,column:30}},'11':{start:{line:13,column:11},end:{line:13,column:41}},'12':{start:{line:15,column:0},end:{line:18,column:3}},'13':{start:{line:16,column:2},end:{line:16,column:23}},'14':{start:{line:17,column:2},end:{line:17,column:19}},'15':{start:{line:20,column:0},end:{line:22,column:3}},'16':{start:{line:21,column:2},end:{line:21,column:91}},'17':{start:{line:24,column:0},end:{line:26,column:3}},'18':{start:{line:25,column:2},end:{line:25,column:103}},'19':{start:{line:28,column:0},end:{line:28,column:78}},'20':{start:{line:30,column:0},end:{line:30,column:32}},'21':{start:{line:31,column:0},end:{line:31,column:48}},'22':{start:{line:32,column:0},end:{line:32,column:30}},'23':{start:{line:33,column:0},end:{line:33,column:27}},'24':{start:{line:34,column:0},end:{line:34,column:56}},'25':{start:{line:36,column:0},end:{line:36,column:58}},'26':{start:{line:38,column:0},end:{line:38,column:30}},'27':{start:{line:40,column:0},end:{line:44,column:1}},'28':{start:{line:41,column:2},end:{line:43,column:5}},'29':{start:{line:42,column:4},end:{line:42,column:58}},'30':{start:{line:46,column:0},end:{line:48,column:3}},'31':{start:{line:47,column:2},end:{line:47,column:46}},'32':{start:{line:50,column:0},end:{line:50,column:21}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:15,column:22},end:{line:15,column:23}},loc:{start:{line:15,column:37},end:{line:18,column:1}},line:15},'1':{name:'(anonymous_1)',decl:{start:{line:20,column:24},end:{line:20,column:25}},loc:{start:{line:20,column:43},end:{line:22,column:1}},line:20},'2':{name:'(anonymous_2)',decl:{start:{line:24,column:29},end:{line:24,column:30}},loc:{start:{line:24,column:48},end:{line:26,column:1}},line:24},'3':{name:'onError',decl:{start:{line:41,column:19},end:{line:41,column:26}},loc:{start:{line:41,column:48},end:{line:43,column:3}},line:41},'4':{name:'(anonymous_4)',decl:{start:{line:46,column:36},end:{line:46,column:37}},loc:{start:{line:46,column:48},end:{line:48,column:1}},line:46}},branchMap:{'0':{loc:{start:{line:5,column:13},end:{line:5,column:37}},type:'binary-expr',locations:[{start:{line:5,column:13},end:{line:5,column:29}},{start:{line:5,column:33},end:{line:5,column:37}}],line:5},'1':{loc:{start:{line:40,column:0},end:{line:44,column:1}},type:'if',locations:[{start:{line:40,column:0},end:{line:44,column:1}},{start:{line:40,column:0},end:{line:44,column:1}}],line:40}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0},b:{'0':[0,0],'1':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_184deyxhm.s[0]++;require('dotenv').config();const http=(cov_184deyxhm.s[1]++,require('http'));const express=(cov_184deyxhm.s[2]++,require('express'));const app=(cov_184deyxhm.s[3]++,express());const port=(cov_184deyxhm.s[4]++,(cov_184deyxhm.b[0][0]++,process.env.PORT)||(cov_184deyxhm.b[0][1]++,3000));const bodyParser=(cov_184deyxhm.s[5]++,require('body-parser'));const Memcached=(cov_184deyxhm.s[6]++,require('memcached'));const path=(cov_184deyxhm.s[7]++,require('path'));const env=(cov_184deyxhm.s[8]++,require('./config/env'));const memcached=(cov_184deyxhm.s[9]++,new Memcached(env[process.env.NODE_ENV].memcacheURL,{poolSize:20,idle:400,timeout:300,reconnect:2000,failures:2,retrues:3}));const Raven=(cov_184deyxhm.s[10]++,require('raven'));const db=(cov_184deyxhm.s[11]++,require('./config/connection'));cov_184deyxhm.s[12]++;memcached.on('issue',function(err){cov_184deyxhm.f[0]++;cov_184deyxhm.s[13]++;console.log('issue');cov_184deyxhm.s[14]++;console.log(err);});cov_184deyxhm.s[15]++;memcached.on('failure',function(details){cov_184deyxhm.f[1]++;cov_184deyxhm.s[16]++;sys.error('Server '+details.server+'went down due to: '+details.messages.join(''));});cov_184deyxhm.s[17]++;memcached.on('reconnecting',function(details){cov_184deyxhm.f[2]++;cov_184deyxhm.s[18]++;sys.debug('Total downtime caused by server '+details.server+' :'+details.totalDownTime+'ms');});cov_184deyxhm.s[19]++;Raven.config(env[process.env.NODE_ENV].sentryKey,{sendTimeout:5}).install();cov_184deyxhm.s[20]++;app.use(Raven.requestHandler());cov_184deyxhm.s[21]++;app.set('views',path.join(__dirname,'views'));cov_184deyxhm.s[22]++;app.set('view engine','ejs');cov_184deyxhm.s[23]++;app.use(bodyParser.json());cov_184deyxhm.s[24]++;app.use(express.static(path.join(__dirname,'public')));cov_184deyxhm.s[25]++;require('./server/directions/routes')(app,memcached,db);cov_184deyxhm.s[26]++;app.use(Raven.errorHandler());cov_184deyxhm.s[27]++;if(process.env.NODE_ENV==='debug'){cov_184deyxhm.b[1][0]++;cov_184deyxhm.s[28]++;app.use(function onError(err,req,res,next){cov_184deyxhm.f[3]++;cov_184deyxhm.s[29]++;res.send({'status':'failure','error':err.message});});}else{cov_184deyxhm.b[1][1]++;}cov_184deyxhm.s[30]++;http.createServer(app).listen(port,function(){cov_184deyxhm.f[4]++;cov_184deyxhm.s[31]++;console.log('HTTP listening on port',port);});cov_184deyxhm.s[32]++;module.exports=app;